# 树与二叉树的应用

## 二叉排序树

### 二叉排序树定义
二叉排序树定义
- 若二叉排序树的左子树不空,则左子树所有关键字均小于根关键字的值
- 若二叉排序树的右子树不空,则右子树所有关键字均大于根关键字的值
- 左右子树仍然是二叉排序树

> 由二叉排序树定义了解,若对其进行中序遍历,则这个序列为递增序列

### 二叉排序树的操作
#### 查找关键字
#### 插入关键字
#### 构造二叉排序树
#### 删除关键字
- 在二叉排序树中删除一个关键字,不能将关键字所在结点为根的子树都删除,而是只删除这一个结点,并保持二叉排序树的特性

假设删除结点 `p`,其父亲为`f`
- 第一种情况:`p`为叶子结点.直接删除
- 第二种情况: `p`只有右子树,没有左子树;或者只有左子树,没有右子树
	- 此时,直接删除`p`,然后将`p`的子树直接连接在原来`p`与其父亲结点`f`连接的指针上即可
- 第三种情况:`p`既有左子树,又有右子树
	- 可以转化为第一,二中情况
	- 方式1:沿着`p`的左子树根结点的右指针一直往右走,直到来到其右子树的最右边的一个结点`r`
	- 方式2:沿着`p`的右子树根结点的左指针一直往左走,直到来到其左子树的最左边的一个结点`l`
	- 将`p`中的关键字用`r`(或`l`)中的关键字代替
	- 判断
		- 如果是叶子结点,执行第一种情况
		- 如果不是叶子结点,执行第二种情况
			- 此时`r`(或`l`)不可能有两个子结点
				- 原因:
	- 删除结点`r`(或`l`)

##  平衡二叉树(AVL树)

### 平衡二叉树的定义
平衡二叉树是一种特殊的,改进版的二叉排序树

引入平衡因子
- 平衡因子是针对树中的结点来说的
- 一个结点的平衡因子等于其左子树的高度减去右子树的高度差
- 平衡因子的取值为`-1, 0, 1`

### 平衡二叉树的建立
- 平衡二叉树的建立与二叉排序树的建立过程基本一致
- 区别是在将关键字插入时,需要检查看是否破坏了原有的平衡,
	- 即树中出现平衡因子大于`1`的结点
- 如果破坏了平衡,需要平衡调整

### 平衡调整*
- 假定向二叉平衡树插入一个新结点后,破坏了平衡二叉树的平衡性
- 首先,要找出插入新结点后失去平衡的二叉树,然后再调整这棵子树,使之称为平衡树
- 当失去平衡的最小子树被调整为平衡子树后,无需调整原有其他所有的不平衡树,整个二叉排序树就会称为一课平衡二叉树
	- 失去平衡的最小子树(最小不平衡树)
		- 以距离插入结点最近,且以平衡因子绝对值大于1的结点作为根的子树

#### 有四种情况的平衡调整
平衡调整必须保持排序二叉树左小右大的性质
`LL`(右单旋调整)
- 新插入结点落在最小不平衡树的左(`L`)的孩子的左(`L`)子树上
`RR`(左单旋调整)
- 新插入结点落在最小不平衡树的右(`R`)的孩子的右(`R`)子树上
`LR`(先左后右双旋转调整)
- 新插入结点落在最小不平衡树的左(`L`)孩子的的右(`R`)子树上
`RL`(先右后左双旋转调整)
- 新插入结点落在最小不平衡树的右(`R`)孩子的的左(`L`)子树上

##  哈夫曼树和哈夫曼编码
### 哈夫曼树
#### 概念
带权路径长度
- 结点具有权值,从该结点到根之间的路径长度乘以结点的权值
树的带权路径长度(WPL)
- 树的带权路径长度是指树中所有叶子结点的带权路径长度之和

#### 哈夫曼树的构造
给定n个权值
- 将这n个权值分别看作只有根结点的n课二叉树,这n课二叉树记为集合F
- 从F中选择根结点的权值最小的树(假设为a,b)作为左,右子树,构造一颗新的二叉树(假设为c),新的二叉树根结点的权值为左右子树根结点权值之和
- 从F中删除a,b,加入新构造的c
- 重复2),3)过程,知道F中剩下一棵树为止,这棵树即为哈夫曼树

#### 哈夫曼树的特点
- 权值越大的结点,距离根结点越近
- 树中没有度为1的结点.这类树又叫作正则(严格)二叉树
- 树的带权路径长度最短

### 哈夫曼编码
利用哈夫曼树的特点,进行哈夫曼编码,从而进行存储
原理
- 哈夫曼编码过程中,每个字符的权值是在字符串中出现的次数,路径长度即为每个字符编码的长度,出现次数越多的字符编码长度越短,因此使得其整个字符串被编码后的前缀码长度最短
- 即,哈夫曼编码产生的是最短前缀码
